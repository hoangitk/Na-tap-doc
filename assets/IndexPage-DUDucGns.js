import{u as j,Q as K,a as W,b as U,c as G,d as X,e as J}from"./QMenu-C5UvKHFq.js";import{c as $,a as _,h as w,b as Q,E as T,g as Y,r as S,F as Z,w as I,n as E,G as ee,Q as y,H as te,I as ne,J as oe,K as D,L as h,z as f,M as c,N as C,O as V,P as se,R as ae,S as g,U as B,V as N,y as L,A as v,B as d,W as le,X as ie,C as re,Y as ue,Z as ce}from"./index-DeUWbBMp.js";import{u as de,t as fe,w as me}from"./position-engine-CnvQDo3Q.js";import{Q as he,a as pe}from"./QPage-DYIm7Iqo.js";import{_ as ge}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as ve,p as _e,a as be,l as P,r as we}from"./quasar.client-BdaIFsYt.js";import"./use-dark-Bij2DATq.js";import"./use-timeout-DqDQmJZo.js";const ye=$({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:o}){const n=_(()=>{const l=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(r=>e[r]===!0).map(r=>`q-btn-group--${r}`).join(" ");return`q-btn-group row no-wrap${l.length!==0?" "+l:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>w("div",{class:n.value},Q(o.default))}}),Be=Object.keys(T);function ke(e){return Be.reduce((o,n)=>{const l=e[n];return l!==void 0&&(o[n]=l),o},{})}const Ce=$({name:"QBtnDropdown",props:{...T,...de,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,noRefocus:Boolean,noFocus:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:o,emit:n}){const{proxy:l}=Y(),r=S(e.modelValue),p=S(null),b=j(),m=_(()=>{const a={"aria-expanded":r.value===!0?"true":"false","aria-haspopup":"true","aria-controls":b.value,"aria-label":e.toggleAriaLabel||l.$q.lang.label[r.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(a["aria-disabled"]="true"),a}),u=_(()=>"q-btn-dropdown__arrow"+(r.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),s=_(()=>Z(e)),t=_(()=>ke(e));I(()=>e.modelValue,a=>{p.value?.[a?"show":"hide"]()}),I(()=>e.split,q);function i(a){r.value=!0,n("beforeShow",a)}function k(a){n("show",a),n("update:modelValue",!0)}function z(a){r.value=!1,n("beforeHide",a)}function H(a){n("hide",a),n("update:modelValue",!1)}function M(a){n("click",a)}function F(a){te(a),q(),n("click",a)}function O(a){p.value?.toggle(a)}function A(a){p.value?.show(a)}function q(a){p.value?.hide(a)}return Object.assign(l,{show:A,hide:q,toggle:O}),E(()=>{e.modelValue===!0&&A()}),()=>{const a=[w(ee,{class:u.value,name:e.dropdownIcon||l.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&a.push(w(K,{ref:p,id:b.value,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noEscDismiss:e.noEscDismiss,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,noFocus:e.noFocus,noRefocus:e.noRefocus,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:i,onShow:k,onBeforeHide:z,onHide:H},o.default)),e.split===!1?w(y,{class:"q-btn-dropdown q-btn-dropdown--simple",...t.value,...m.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:M},{default:()=>Q(o.label,[]).concat(a),loading:o.loading}):w(ye,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...s.value,glossy:e.glossy,stretch:e.stretch},()=>[w(y,{class:"q-btn-dropdown--current",...t.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:F},{default:o.label,loading:o.loading}),w(y,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...m.value,...s.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>a)])}}}),x=$({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:o}){const n=_(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>w(e.tag,{class:n.value},Q(o.default))}});function R(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const o=parseInt(e,10);return isNaN(o)?0:o}const Se=ne({name:"close-popup",beforeMount(e,{value:o}){const n={depth:R(o),handler(l){n.depth!==0&&setTimeout(()=>{const r=fe(e);r!==void 0&&me(r,l,n.depth)})},handlerKey(l){oe(l,13)===!0&&n.handler(l)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:o,oldValue:n}){o!==n&&(e.__qclosepopup.depth=R(o))},beforeUnmount(e){const o=e.__qclosepopup;e.removeEventListener("click",o.handler),e.removeEventListener("keyup",o.handlerKey),delete e.__qclosepopup}}),qe={key:0,style:{color:"red"}},xe={key:1,class:"q-gutter-sm"},Le={key:0,class:"syllable"},$e={key:0,class:"initial-consonant"},Qe={class:"rhyme"},De={key:1},Ve={key:2},ze=D({__name:"HighlightWords",props:{content:{},fontSize:{}},setup(e){const o=e,n=["ngh","ch","gh","kh","nh","ng","ph","th","tr","qu","gi","b","c","d","đ","g","h","k","l","m","n","p","s","r","t","x","v"],l=_(()=>p(o.content)),r=_(()=>o.fontSize??2);function p(m){const u=new RegExp("(\\r\\n|\\n)|(\\p{L}+)|(\\p{N}+)|([^\\p{L}\\p{N}\\s])","gu"),s=[];let t;for(;(t=u.exec(m))!==null;)t[1]?s.push({type:"newline",value:t[1]}):t[2]?s.push({type:"word",value:t[2],syllable:b(t[2])}):t[3]?s.push({type:"number",value:t[3]}):t[4]&&s.push({type:"punctuation",value:t[4]});return s}function b(m){const u=m.toLowerCase();for(const s of n)if(u.startsWith(s))return[m.slice(0,s.length),m.slice(s.length)];return["",m]}return(m,u)=>(f(),h("div",{class:"q-mt-md",style:se({fontSize:`${c(r)}rem`})},[c(l).length===0?(f(),h("p",qe,"Vui lòng nhập đoạn văn!")):(f(),h("div",xe,[(f(!0),h(C,null,V(c(l),({type:s,value:t,syllable:i},k)=>(f(),h(C,{key:k},[s==="word"&&i?(f(),h("span",Le,[i[0]?(f(),h("span",$e,B(i[0]),1)):ae("",!0),g("span",Qe,B(i[1]),1)])):s==="newline"?(f(),h("br",De)):(f(),h("span",Ve,B(t),1))],64))),128))]))],4))}}),Ae=ge(ze,[["__scopeId","data-v-2427ac82"]]),Ie={class:"text-h6"},Ne={class:"q-gutter-sm"},Pe=D({__name:"SentencesTags",props:{top:Number},emits:["tag-click"],setup(e,{emit:o}){const n=e,l=o,r=_(()=>n.top||20),p=N(async u=>(await u.sentences.limit(r.value).toArray()).map(t=>t.sentence)),b=N(u=>u.sentences.count());function m(u){l("tag-click",u)}return(u,s)=>(f(),h(C,null,[g("h3",Ie,"Câu mẫu (top "+B(c(r))+") / "+B(c(b))+":",1),g("div",Ne,[(f(!0),h(C,null,V(c(p),t=>(f(),L(y,{key:t,style:{"text-transform":"none"},color:"secondary",rounded:"",label:t,onClick:i=>m({originalEvent:i,sentence:t})},null,8,["label","onClick"]))),128))])],64))}}),Re={class:"row justify-between q-gutter-y-md"},Te={class:"col-auto"},Ee={class:"items-center q-gutter-sm"},He={class:"col-auto"},Me={class:"row items-center q-gutter-sm"},Fe={class:"text-caption"},Ye=D({__name:"IndexPage",setup(e){const o=be(),n=S(""),l=S(2),r=ve();async function p(s){const t=await ue.lessons.get(s);t&&u(P(t))}async function b(){const s=await ce();u(s?.sentence)}async function m(){const s=await we();u(P(s))}function u(s=""){n.value=s}return E(()=>{_e().then(([s,t])=>{s&&o.notify({type:"positive",message:t})})}),(s,t)=>(f(),L(he,null,{default:v(()=>[d(pe,{class:"q-ma-md"},{default:v(()=>[d(x,null,{default:v(()=>[t[7]||(t[7]=g("h1",{class:"text-h4 text-orange-9"},"Bé tập đọc Tiếng Việt",-1)),t[8]||(t[8]=g("p",null,"Nhập đoạn văn để bé tập học cách tách âm tiết!",-1)),d(W,{modelValue:c(n),"onUpdate:modelValue":t[0]||(t[0]=i=>le(n)?n.value=i:null),type:"textarea",placeholder:"Nhập câu, ví dụ: Na rất thích Tiếng Việt.",outlined:"",class:"input q-mb-md",rows:3},null,8,["modelValue"]),g("div",Re,[g("div",Te,[g("div",Ee,[d(c(y),{label:"Câu ngẫu nhiên",color:"primary",onClick:t[1]||(t[1]=i=>b())}),d(c(y),{label:"Xóa đoạn văn",onClick:t[2]||(t[2]=i=>n.value="")}),d(Ce,{color:"purple",split:"",label:"Bài học ngẫu nhiên",onClick:t[3]||(t[3]=i=>m())},{default:v(()=>[d(U,null,{default:v(()=>[(f(!0),h(C,null,V(c(r),({id:i,title:k})=>ie((f(),L(G,{key:i,clickable:"",onClick:z=>p(i)},{default:v(()=>[d(X,null,{default:v(()=>[d(J,null,{default:v(()=>[re(B(k),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[Se]])),128))]),_:1})]),_:1})])]),g("div",He,[g("div",Me,[d(c(y),{label:"-",size:"small",onClick:t[4]||(t[4]=i=>l.value=Math.max(c(l)*.9,1))}),g("div",Fe,"Kích thước chữ: "+B(c(l).toFixed(1))+"x",1),d(c(y),{label:"+",size:"small",onClick:t[5]||(t[5]=i=>l.value=Math.min(c(l)*1.1,3))})])])]),d(x,null,{default:v(()=>[d(Ae,{content:c(n),fontSize:c(l)},null,8,["content","fontSize"])]),_:1}),d(x,null,{default:v(()=>[d(Pe,{top:20,onTagClick:t[6]||(t[6]=({sentence:i})=>u(i))})]),_:1})]),_:1,__:[7,8]})]),_:1})]),_:1}))}});export{Ye as default};
