import{i as m,a5 as u,K as p,r as d,L as f,B as n,A as g,M as _,z as h,Q as C,V as b}from"./index-DVIkszVp.js";import{_ as w}from"./DbTableEditor-DZw-52aU.js";import"./QMenu-DN_q5i6M.js";import"./use-dark-5l6pAtmJ.js";import"./position-engine-BviP8Bka.js";import"./use-timeout-OH9yTxJ2.js";import"./QSeparator-C7fNi1ZX.js";function k(){return m(u)}const y={class:"q-gutter-md"},$=p({__name:"LessonsPage",setup(q){const s=k(),o=d([{name:"title",field:"title",label:"Tiêu đề",required:!0,align:"center"},{name:"content",field:"content",label:"Nội dung",align:"center"}]);async function a(){try{const r=(await(await fetch(`https://gist.githubusercontent.com/hoangitk/c2a121250ff54204a7e6df164e9260b2/raw/Na-tap-doc.md?v=${new Date().getMilliseconds()}`)).text()).split(/^##\s+/gm).filter(t=>!!t&&!t.startsWith("#")).map(t=>{const[c,...l]=t.split(`
`);return{title:c?.trim(),content:l.join(`
`)}});await b.lessons.bulkPut(r)}catch(e){console.log("Tải bài học",e),s.notify({type:"negative",message:"Có lỗi khi tải bài học"})}}return(e,i)=>(h(),f("div",y,[n(w,{"table-name":"lessons",grid:!0,columns:_(o)},{footer:g(()=>[n(C,{flat:"",icon:"cloud",label:"Cập nhập",onClick:a})]),_:1},8,["columns"])]))}});export{$ as default};
